<view class="add-item__root">
    <van-cell-group title="基础信息">
        <van-field value="{{formData.name}}"
                   label="名称"
                   clearable
                   placeholder="请输入名称"
                   data-name="name"
                   bind:blur="handleFormChange">
        </van-field>
        <van-field value="{{formData.price}}"
                   label="价格"
                   required
                   clearable
                   placeholder="请输入价格"
                   error-message="{{errorMsgMap.price}}"
                   data-name="price"
                   bind:blur="handleFormChange">
        </van-field>
        <van-field value="{{formData.itemType}}"
                   label="类别"
                   required
                   disabled
                   is-link
                   placeholder="请选择类别"
                   error-message="{{errorMsgMap.itemType}}"
                   data-name="Type"
                   bind:tap="handCellClick">
        </van-field>
    </van-cell-group>

    <van-cell-group title="还可以更精确">
        <van-field value="{{formData.season}}"
                   label="适宜季节"
                   disabled
                   is-link
                   placeholder="请选择适宜季节"
                   error-message="{{errorMsgMap.season}}"
                   data-name="Season"
                   bind:tap="handCellClick">
        </van-field>
        <van-field value="{{formData.channel}}"
                   label="购买渠道"
                   disabled
                   is-link
                   placeholder="请选择购买渠道"
                   error-message="{{errorMsgMap.channel}}"
                   data-name="Channel"
                   bind:tap="handCellClick">
        </van-field>
        <!--弹出框显示时需要隐藏原生组件textarea(层级太高)-->
        <van-field value="{{ formData.desc }}"
                   wx:if="{{isShowPopUp === false}}"
                   type="textarea"
                   label="描述信息"
                   class="add-item__textarea-box"
                   placeholder="请输入描述信息"
                   data-name="desc"
                   bind:blur="handleFormChange">
        </van-field>
        <van-cell wx:else title="描述信息" title-width="90px">
            <view class="add-item__textarea-value">{{formData.desc}}</view>
        </van-cell>
    </van-cell-group>

    <view class="add-item__operate-box">
        <van-button type="info"
                    block
                    square>保存信息
        </van-button>
    </view>

    <van-popup show="{{ isShowPopUp }}"
               position="bottom"
               bind:close="handPopUpClose">
        <van-picker wx:if="{{isShowTypePicker === true}}"
                    show-toolbar
                    title=""
                    columns="{{typeList}}"
                    cancel-button-text="清空"
                    data-name="itemType"
                    bind:cancel="handlePickerCancel"
                    bind:confirm="handlePickerConfirm">
        </van-picker>

        <van-picker wx:elif="{{isShowSeasonPicker === true}}"
                    show-toolbar
                    title=""
                    columns="{{seasonList}}"
                    cancel-button-text="清空"
                    data-name="season"
                    bind:cancel="handlePickerCancel"
                    bind:confirm="handlePickerConfirm">
        </van-picker>

        <van-picker wx:elif="{{isShowChannelPicker === true}}"
                    show-toolbar
                    title=""
                    columns="{{channelList}}"
                    cancel-button-text="清空"
                    data-name="channel"
                    bind:cancel="handlePickerCancel"
                    bind:confirm="handlePickerConfirm">
        </van-picker>
    </van-popup>

    <van-notify id="van-notify"></van-notify>
</view>